@use 'variables' as *;

@mixin c64-type {
  font-family: 'Sixtyfour', monospace;
  font-kerning: none;
  line-height: $header-line-height-base;
  letter-spacing: $letter-spacing-headers;
  text-transform: uppercase;
}

@mixin terminal-output {
  letter-spacing: 0.01em;
  text-transform: uppercase;
  word-spacing: 0.3em;
  font-size: $font-size-sm;
}

@mixin hyphen-border($position: top) {
  border-#{$position}: 2px solid var(--color-text);
  border-image: repeating-linear-gradient(
    to right,
    var(--color-text) 0 10px,
    transparent 10px 12px
  ) 2 0;
}

@mixin hyphen-border-hover {
  border-image: repeating-linear-gradient(
    to right,
    var(--color-link) 0 10px,
    transparent 10px 12px
  ) 2 0;
}

@mixin scanline {
  content: '';
  position: fixed;
  inset: 0;
  background: repeating-linear-gradient(
    to bottom,
    transparent,
    transparent 2px,
    rgba(0, 0, 0, 0.01) 1px,
    rgba(0, 0, 0, 0.01) 4px
  );
  pointer-events: none;
  z-index: 10;
}

@mixin mobile {
  @media (max-width: $breakpoint-mobile) {
    @content;
  }
}

@mixin page-heading {
  letter-spacing: $letter-spacing-display;
  word-spacing: $word-spacing-display;
  line-height: $line-height-base * 0.95;
}

@mixin post-list {
  list-style: none;
  padding: 0;
  @include hyphen-border(top);

  &:has(li:first-child:hover) {
    @include hyphen-border-hover;
  }

  li {
    @include hyphen-border(bottom);

    &:hover {
      --color-text: var(--color-link);
    }

    &:has(+ li:hover) {
      @include hyphen-border-hover;
    }
  }

  a {
    display: flex;
    align-items: baseline;
    gap: $spacing-unit * 3;
    padding: ($spacing-unit * 1.5) 0;
    color: var(--color-text);
    text-decoration: none;

    span {
      font-weight: 500;
    }
  }

  time {
    @include terminal-output;
    font-size: $font-size-xs;
    flex-shrink: 0;
    width: 9em;
  }
}