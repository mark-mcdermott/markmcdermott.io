@use 'variables' as *;

@mixin c64-pro-mono {
  font-family: 'Sixtyfour', monospace;
  font-kerning: none;
  line-height: $header-line-height-base;
  letter-spacing: $letter-spacing-headers;
  text-transform: uppercase;
}

@mixin terminal-output {
  letter-spacing: 0.01em;
  text-transform: uppercase;
  word-spacing: 0.3em;
  font-size: $font-size-sm;
}

@mixin hyphen-border($position: top) {
  background-image: repeating-linear-gradient(
    to right,
    var(--color-text) 0,
    var(--color-text) 10px,
    transparent 10px,
    transparent 12px
  );
  background-size: 100% 2.3px;
  background-repeat: no-repeat;
  background-position: #{$position};
}

@mixin hyphen-border-hover {
  background-image: repeating-linear-gradient(
    to right,
    var(--color-link) 0,
    var(--color-link) 10px,
    transparent 10px,
    transparent 12px
  );
}

@mixin mobile {
  @media (max-width: $breakpoint-mobile) {
    @content;
  }
}

@mixin page-heading {
  letter-spacing: $letter-spacing-display;
  word-spacing: $word-spacing-display;
  line-height: $line-height-base * 0.95;
}

@mixin post-list {
  list-style: none;
  padding: 0;
  @include hyphen-border(top);

  &:has(li:first-child:hover) {
    @include hyphen-border-hover;
  }

  li {
    @include hyphen-border(bottom);

    &:hover {
      --color-text: var(--color-link);
    }

    &:has(+ li:hover) {
      @include hyphen-border-hover;
    }
  }

  a {
    display: flex;
    align-items: baseline;
    gap: $spacing-unit * 3;
    padding: ($spacing-unit * 1.5) 0;
    color: var(--color-text);
    text-decoration: none;

    span {
      font-weight: 500;
    }
  }

  time {
    @include terminal-output;
    font-size: $font-size-xs;
    flex-shrink: 0;
    width: 9em;
  }
}